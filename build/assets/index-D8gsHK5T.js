import{r as j,j as e,ai as u}from"./index-BYEybUnp.js";import{u as f,A as g,F,h as v,i as y,j as b,k as S,l as w,I as N,m as k,o as E}from"./index.esm-DpnBvLn4.js";import{B as P}from"./Button-DsWlXW1m.js";import"./isNil-CrrL_NOz.js";import"./index-BHyuD4gS.js";import"./Views-Dr1Psgs3.js";import"./CloseButton-rqorR0My.js";const I=v().shape({email:E().required("Please enter your email")}),M=l=>{const{disableSubmit:m=!1,className:c,signInUrl:d="/sign-in"}=l,[t,h]=j.useState(!1),[o,p]=f(),x=async(a,s)=>{var r,n;s(!0);try{(await u(a)).data&&(s(!1),h(!0))}catch(i){p(((n=(r=i==null?void 0:i.response)==null?void 0:r.data)==null?void 0:n.message)||i.toString()),s(!1)}};return e.jsxs("div",{className:c,children:[e.jsx("div",{className:"mb-6",children:t?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Check your email"}),e.jsx("p",{children:"We have sent a password recovery instruction to your email"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"mb-1",children:"Forgot Password"}),e.jsx("p",{children:"Please enter your email address to receive a verification code"})]})}),o&&e.jsx(g,{showIcon:!0,className:"mb-4",type:"danger",children:o}),e.jsx(F,{initialValues:{email:"admin@mail.com"},validationSchema:I,onSubmit:(a,{setSubmitting:s})=>{m?s(!1):x(a,s)},children:({touched:a,errors:s,isSubmitting:r})=>e.jsx(y,{children:e.jsxs(b,{children:[e.jsx("div",{className:t?"hidden":"",children:e.jsx(S,{invalid:s.email&&a.email,errorMessage:s.email,children:e.jsx(w,{type:"email",autoComplete:"off",name:"email",placeholder:"Email",component:N})})}),e.jsx(P,{block:!0,loading:r,variant:"solid",type:"submit",children:t?"Resend Email":"Send Email"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("span",{children:"Back to "}),e.jsx(k,{to:d,children:"Sign in"})]})]})})})]})},O=()=>e.jsx(M,{disableSubmit:!1});export{O as default};
